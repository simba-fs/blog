{
    "@context": [
        "https://www.w3.org/ns/activitystreams"
    ],
    "to": ["https://www.w3.org/ns/activitystreams#Public"],
    "name": "docker commit",
    "type": "Article","content": "\u003ch1 id=\"docker-commit\"\u003eDocker Commit\u003c/h1\u003e\n\u003ch2 id=\"前言\"\u003e前言\u003c/h2\u003e\n\u003cp\u003e上次提到可以用 Dockerfile 建立 docker image，但我們還有令一個方法可以建立 docker image，那就是 \u003ccode\u003edocker commit\u003c/code\u003e 指令\u003c/p\u003e\n\u003ch3 id=\"和-dockerfile-差別\"\u003e和 Dockerfile 差別\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003edocker commit\u003c/code\u003e 有點像是手動版的 Dockerfile，在用 Dockerfile 建構 docker image 的時候，docker build 的工作就像是自動根據 Dockerfile 操作 \u003ccode\u003edocker commit\u003c/code\u003e。\nDockerfile 比較適合用在自動化交付和部屬，例如說你有一份程式碼，要將他包成 Docker 就很適合用 Dockerfile 自動化操作，因為程式碼會改變，但是包裝的流程基本上都是一樣的。\n\u003ccode\u003edocker commit\u003c/code\u003e 適合用在建構環境，因為會有比較麻煩的操作，如果寫成 Dockerfile 會比較麻煩，當然如果可以的話還是寫成 Dockerfile 會比較好，因為更新的時候會比較方便。\n在建構 image 的時候要用哪個方法就看個人取捨了。\u003c/p\u003e\n\u003ch3 id=\"docker-commit-指令\"\u003e\u003ccode\u003edocker commit\u003c/code\u003e 指令\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003edocker commit\u003c/code\u003e 可以把運行中的 comtainer 轉成 images，有點類似令存新檔的概念。先來看看參數吧！\u003c/p\u003e\n\u003ch4 id=\"參數\"\u003e參數\u003c/h4\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e 1\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 2\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 3\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 4\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 5\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 6\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 7\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 8\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 9\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e10\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e$ docker commit --help\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eUsage:\tdocker commit \u003cspan class=\"o\"\u003e[\u003c/span\u003eOPTIONS\u003cspan class=\"o\"\u003e]\u003c/span\u003e CONTAINER \u003cspan class=\"o\"\u003e[\u003c/span\u003eREPOSITORY\u003cspan class=\"o\"\u003e[\u003c/span\u003e:TAG\u003cspan class=\"o\"\u003e]]\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eCreate a new image from a container\u003cspan class=\"err\"\u003e\u0026#39;\u003c/span\u003es changes\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eOptions:\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  -a, --author string    Author \u003cspan class=\"o\"\u003e(\u003c/span\u003ee.g., \u003cspan class=\"s2\"\u003e\u0026#34;John Hannibal Smith \u0026lt;hannibal@a-team.com\u0026gt;\u0026#34;\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  -c, --change list      Apply Dockerfile instruction to the created image\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  -m, --message string   Commit message\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  -p, --pause            Pause container during commit \u003cspan class=\"o\"\u003e(\u003c/span\u003edefault \u003cspan class=\"nb\"\u003etrue\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align:left\"\u003e選項\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003e說明\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003e-a\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e作者的名字\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003e-c\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e我還沒研究出來有什麼用\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003e-m\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e訊息\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003e-p\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e建構時停容器\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n","mediaType": "text/html",
    "published": "2020-11-27T00:00:00+00:00",
    "updated": "2020-11-27T00:00:00+00:00",
    "id": "https://blog.simbafs.cc/p/linux/docker/docker-commit/",
    "url": "https://blog.simbafs.cc/p/linux/docker/docker-commit/",
    "attributedTo": "https://blog.simbafs.cc"
}