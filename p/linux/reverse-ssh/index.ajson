{
    "@context": [
        "https://www.w3.org/ns/activitystreams"
    ],
    "to": ["https://www.w3.org/ns/activitystreams#Public"],
    "name": "Reverse SSH",
    "type": "Article","content": "\u003ch1 id=\"reverse-ssh\"\u003eReverse SSH\u003c/h1\u003e\n\u003cp\u003e一直以來連線回社辦的電腦都要走 webtty 再開 tmate\n但是今天發現了一個新的方法可以透過反向的 ssh 連回社辦\u003c/p\u003e\n\u003ch2 id=\"reverse-ssh-1\"\u003ereverse ssh\u003c/h2\u003e\n\u003cp\u003e在社辦電腦\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e1\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-fallback\" data-lang=\"fallback\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e$ ssh -NfR 2222:localhost:22 simba@simba-vps\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003e這可以建立一個連線\n這時候到 simba-vps\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e1\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-fallback\" data-lang=\"fallback\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e$ ssh server@localhost -p 2222\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003e就可以連線回社辦伺服器了\u003c/p\u003e\n\u003ch2 id=\"autossh\"\u003eautossh\u003c/h2\u003e\n\u003cp\u003e但是這樣做 ssh 連線有可能會超時然後斷掉\n這時候可以透過 autossh 來幫我們自動建立連線\n在社辦電腦\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e1\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e2\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-fallback\" data-lang=\"fallback\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e$ apt install autossh\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e$ autossh -Mf 2222 -NR  1111:localhost:22 simba@simba-vps -p 22\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003e這樣就可以在 vps 上\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e1\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-fallback\" data-lang=\"fallback\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e$ ssh server@localhost -p 1111\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003e來連回社辦啦！\n最後可以把這堆在 vps 上再做一次就可以在 internet 連回社辦伺服器了\u003c/p\u003e\n\u003ch2 id=\"參考網址\"\u003e參考網址\u003c/h2\u003e\n\u003cp\u003e\u003ca class=\"link\" href=\"https://stackoverflow.com/questions/15983795/how-do-i-establish-a-bidirectional-ssh-tunnel\"  target=\"_blank\" rel=\"noopener\"\n    \u003ehttps://stackoverflow.com/questions/15983795/how-do-i-establish-a-bidirectional-ssh-tunnel\u003c/a\u003e\u003cbr\u003e\n\u003ca class=\"link\" href=\"https://ez3c.tw/2043\"  target=\"_blank\" rel=\"noopener\"\n    \u003ehttps://ez3c.tw/2043\u003c/a\u003e\u003cbr\u003e\n\u003ca class=\"link\" href=\"https://www.ubuntu-tw.org/modules/newbb/viewtopic.php?viewmode=compact\u0026amp;topic_id=17538\u0026amp;forum=7\"  target=\"_blank\" rel=\"noopener\"\n    \u003ehttps://www.ubuntu-tw.org/modules/newbb/viewtopic.php?viewmode=compact\u0026topic_id=17538\u0026forum=7\u003c/a\u003e\u003cbr\u003e\n\u003ca class=\"link\" href=\"http://blog.adahsu.net/2007/11/ssh-reverse-tunnel.html\"  target=\"_blank\" rel=\"noopener\"\n    \u003ehttp://blog.adahsu.net/2007/11/ssh-reverse-tunnel.html\u003c/a\u003e\u003cbr\u003e\n\u003ca class=\"link\" href=\"https://codertw.com/%E4%BC%BA%E6%9C%8D%E5%99%A8/377688/\"  target=\"_blank\" rel=\"noopener\"\n    \u003ehttps://codertw.com/%E4%BC%BA%E6%9C%8D%E5%99%A8/377688/\u003c/a\u003e\u003cbr\u003e\n這篇講 ssh tunnel 最清楚\u003cbr\u003e\n\u003ca class=\"link\" href=\"https://yu-jack.github.io/2019/01/08/ssh-tunnel/\"  target=\"_blank\" rel=\"noopener\"\n    \u003ehttps://yu-jack.github.io/2019/01/08/ssh-tunnel/\u003c/a\u003e\u003c/p\u003e\n","mediaType": "text/html",
    "published": "2020-02-23T00:00:00+00:00",
    "updated": "2020-02-23T00:00:00+00:00",
    "id": "https://blog.simbafs.cc/p/linux/reverse-ssh/",
    "url": "https://blog.simbafs.cc/p/linux/reverse-ssh/",
    "attributedTo": "https://blog.simbafs.cc"
}